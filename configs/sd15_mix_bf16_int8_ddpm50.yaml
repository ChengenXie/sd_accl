model_id: "stable-diffusion-v1-5/stable-diffusion-v1-5"

device: "cuda"
unet_dtype: "bf16"          # "fp32" | "fp16" | "bf16"
vae_dtype: "bf16"          # "fp32" | "fp16" | "bf16"
text_encoder_dtype: "int8"  # "fp32" | "fp16" | "int8"
seed: 42

compile:
  enabled: false
  mode: "max-autotune"
  fullgraph: false
  dynamic: false
  compile_vae: false

quant:
  enabled: false
  scheme: "int8"       # 占位：你可以用 bnb 或 torchao

token_merge:
  enabled: false
  ratio: 0.4           # 占位：40% 计算减少(实现时再映射到具体策略)

sampler:
  name: "ddpm" # "ddpm" | "dpm_solver++"
  steps: 50

adaptive:
  enabled: false
  warmup_steps: 5
  min_steps: 5
  max_steps: 20
  uncertainty:
    method: "pred_var"   # "grad_norm"(更麻烦) | "pred_var"(更易落地)
    threshold_low: 0.10
    threshold_high: 0.25

generation:
  height: 512
  width: 512
  guidance_scale: 7.5
  num_images_per_prompt: 1

io:
  out_dir: "outputs/sd15_mix_bf16_int8_ddpm50"
  save_latents: false
  save_grid: true
